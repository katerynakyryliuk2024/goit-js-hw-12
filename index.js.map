{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n export const createGalleryCardTemplate = imgİnfo => {\n    return `\n    <li class='gallery-card'>\n    <a class='gallery-link' href='${imgİnfo.largeImageURL}'>\n    <img class='galley-img' src='${imgİnfo.webformatURL}' alt='${imgİnfo.tags}' width='360'  '/>\n    </a>\n    <div class='description'>\n    <p>Likes: ${imgİnfo.likes}</p>\n    <p>Views: ${imgİnfo.views}</p> \n    <p>Comments: ${imgİnfo.comments}</p>\n    <p> Downloads: ${imgİnfo.downloads}</p>\n    </div>\n    </li>\n    `;\n};","import axios from 'axios';\nexport const fetchByQuery = searchedQuery => {\n  const searchParams = new URLSearchParams({\n    key: '48282241-c94e9d668c7a92092d53abf55',\n    q: searchedQuery,\n    per_page: '9',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return axios.get(`https://pixabay.com/api/?${searchParams}`);\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchByQuery } from './js/pixabay-api';\n\nconst searchFormEl = document.querySelector('.search-form');\n\nconst galleryEl = document.querySelector('.gallery');\n\nconst loader = document.querySelector('.loader');\nconsole.dir(loader);\n\nloader.style.display = 'none';\n\nconst onSearchFormSubmit = async event => {\n  try {\n    event.preventDefault();\n\n    const searchedQuery =\n      event.currentTarget.elements.search_input.value.trim();\n    if (searchedQuery === '') {\n      iziToast.warning({\n        title: 'Caution',\n        message: 'You forgot to full fill searching area',\n      });\n      return;\n    }\n\n    loader.style.display = 'inline-block';\n\n    const { data } = await fetchByQuery(searchedQuery);\n\n    loader.style.display = 'none';\n\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n\n      galleryEl.innerHTML = '';\n      searchFormEl.reset();\n      return;\n    }\n\n    const galleryTemplate = data.hits\n      .map(el => createGalleryCardTemplate(el))\n      .join('');\n    galleryEl.innerHTML = galleryTemplate;\n\n    const gallerySLB = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captions: true,\n      captionDelay: 250,\n    });\n\n    gallerySLB.refresh();\n  } catch (error) {\n    loader.style.display = 'none';\n    if (err.message === '404') {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    }\n    console.log(error);\n  }\n\n  //   .then(data => {\n  //     if (data.hits.length === 0) {\n  //       iziToast.error({\n  //         title: 'Error',\n  //         message:\n  //           'Sorry, there are no images matching your search query. Please try again!',\n  //       });\n\n  //       galleryEl.innerHTML = '';\n  //       searchFormEl.reset();\n  //       return;\n  //     }\n\n  //     const galleryTemplate = data.hits\n  //       .map(el => createGalleryCardTemplate(el))\n  //       .join('');\n  //     galleryEl.innerHTML = galleryTemplate;\n\n  //     const gallerySLB = new SimpleLightbox('.gallery a', {\n  //       captionsData: 'alt',\n  //       captions: true,\n  //       captionDelay: 250,\n  //     });\n\n  //     gallerySLB.refresh();\n  //   })\n  //   .catch(err => {\n  //     if (err.message === '404') {\n  //       iziToast.error({\n  //         title: 'Error',\n  //         message:\n  //           'Sorry, there are no images matching your search query. Please try again!',\n  //       });\n  //     }\n  //     console.log(err);\n  //   })\n  //   .finally(() => {\n  //     loader.style.display = 'none';\n  //   });\n\n  // console.dir(searchedQuery);\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgİnfo","fetchByQuery","searchedQuery","searchParams","axios","searchFormEl","galleryEl","loader","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","error"],"mappings":"owBACQ,MAAMA,EAA4BC,GAC/B;AAAA;AAAA,oCAEyBA,EAAQ,aAAa;AAAA,mCACtBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,gBAG7DA,EAAQ,KAAK;AAAA,gBACbA,EAAQ,KAAK;AAAA,mBACVA,EAAQ,QAAQ;AAAA,qBACdA,EAAQ,SAAS;AAAA;AAAA;AAAA,MCVzBC,EAAeC,GAAiB,CAC3C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,SAAU,IACV,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAOE,EAAM,IAAI,4BAA4BD,CAAY,EAAE,CAC7D,ECJME,EAAe,SAAS,cAAc,cAAc,EAEpDC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAS,SAAS,cAAc,SAAS,EAC/C,QAAQ,IAAIA,CAAM,EAElBA,EAAO,MAAM,QAAU,OAEvB,MAAMC,EAAqB,MAAMC,GAAS,CACxC,GAAI,CACFA,EAAM,eAAc,EAEpB,MAAMP,EACJO,EAAM,cAAc,SAAS,aAAa,MAAM,KAAI,EACtD,GAAIP,IAAkB,GAAI,CACxBQ,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,wCACjB,CAAO,EACD,MACD,CAEDH,EAAO,MAAM,QAAU,eAEvB,KAAM,CAAE,KAAAI,CAAM,EAAG,MAAMV,EAAaC,CAAa,EAIjD,GAFAK,EAAO,MAAM,QAAU,OAEnBI,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EAEDJ,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClB,MACD,CAED,MAAMO,EAAkBD,EAAK,KAC1B,IAAIE,GAAMd,EAA0Bc,CAAE,CAAC,EACvC,KAAK,EAAE,EACVP,EAAU,UAAYM,EAEH,IAAIE,EAAe,aAAc,CAClD,aAAc,MACd,SAAU,GACV,aAAc,GACpB,CAAK,EAEU,QAAO,CACnB,OAAQC,EAAO,CACdR,EAAO,MAAM,QAAU,OACnB,IAAI,UAAY,OAClBG,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EAEH,QAAQ,IAAIK,CAAK,CAClB,CA2CH,EAEAV,EAAa,iBAAiB,SAAUG,CAAkB"}