{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n export const createGalleryCardTemplate = imgİnfo => {\n    return `\n    <li class='gallery-card'>\n    <a class='gallery-link' href='${imgİnfo.largeImageURL}'>\n    <img class='galley-img' src='${imgİnfo.webformatURL}' alt='${imgİnfo.tags}' width='360'  '/>\n    </a>\n    <div class='description'>\n    <p>Likes: ${imgİnfo.likes}</p>\n    <p>Views: ${imgİnfo.views}</p> \n    <p>Comments: ${imgİnfo.comments}</p>\n    <p> Downloads: ${imgİnfo.downloads}</p>\n    </div>\n    </li>\n    `;\n};","export const fetchByQuery = searchedQuery => {\n    return fetch(\n        `https://pixabay.com/api/?key=48282241-c94e9d668c7a92092d53abf55&q=${searchedQuery}&per_page=9&image_type=photo&orientation=horizontal&safesearch=true`)\n      \n        .then(response => {\n\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n      \n            return response.json();\n        });\n      \n};","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchByQuery } from './js/pixabay-api';\n\nconst searchFormEl = document.querySelector('.search-form');\n\nconst galleryEl = document.querySelector('.gallery');\n\nconst loader = document.querySelector('.loader');\nconsole.dir(loader);\n\nloader.style.display = 'none';\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchedQuery = event.currentTarget.elements.search_input.value.trim();\n  if (searchedQuery === '') {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'You forgot to full fill searching area',\n    });\n    return;\n  }\n\n  loader.style.display = 'inline-block';\n\n  fetchByQuery(searchedQuery)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n\n        galleryEl.innerHTML = '';\n        searchFormEl.reset();\n        return;\n      }\n\n      const galleryTemplate = data.hits\n        .map(el => createGalleryCardTemplate(el))\n        .join('');\n      galleryEl.innerHTML = galleryTemplate;\n\n      const gallerySLB = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captions: true,\n        captionDelay: 250,\n      });\n\n      gallerySLB.refresh();\n    })\n    .catch(err => {\n      if (err.message === '404') {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      console.log(err);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n\n  console.dir(searchedQuery);\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgİnfo","fetchByQuery","searchedQuery","response","searchFormEl","galleryEl","loader","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"6vBACQ,MAAMA,EAA4BC,GAC/B;AAAA;AAAA,oCAEyBA,EAAQ,aAAa;AAAA,mCACtBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,gBAG7DA,EAAQ,KAAK;AAAA,gBACbA,EAAQ,KAAK;AAAA,mBACVA,EAAQ,QAAQ;AAAA,qBACdA,EAAQ,SAAS;AAAA;AAAA;AAAA,MCXzBC,EAAeC,GACjB,MACH,qEAAqEA,CAAa,qEAAqE,EAEtJ,KAAKC,GAAY,CAEd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,ECHHC,EAAe,SAAS,cAAc,cAAc,EAEpDC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAS,SAAS,cAAc,SAAS,EAC/C,QAAQ,IAAIA,CAAM,EAElBA,EAAO,MAAM,QAAU,OAEvB,MAAMC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMN,EAAgBM,EAAM,cAAc,SAAS,aAAa,MAAM,OACtE,GAAIN,IAAkB,GAAI,CACxBO,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,wCACf,CAAK,EACD,MACD,CAEDH,EAAO,MAAM,QAAU,eAEvBL,EAAaC,CAAa,EACvB,KAAKQ,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EAEDJ,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClB,MACD,CAED,MAAMO,EAAkBD,EAAK,KAC1B,IAAIE,GAAMb,EAA0Ba,CAAE,CAAC,EACvC,KAAK,EAAE,EACVP,EAAU,UAAYM,EAEH,IAAIE,EAAe,aAAc,CAClD,aAAc,MACd,SAAU,GACV,aAAc,GACtB,CAAO,EAEU,QAAO,CACxB,CAAK,EACA,MAAMC,GAAO,CACRA,EAAI,UAAY,OAClBL,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EAEH,QAAQ,IAAIK,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbR,EAAO,MAAM,QAAU,MAC7B,CAAK,EAEH,QAAQ,IAAIJ,CAAa,CAC3B,EAEAE,EAAa,iBAAiB,SAAUG,CAAkB"}